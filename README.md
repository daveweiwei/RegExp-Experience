# 正则表达式笔记

##简介
正则表达式，又称规则表达式。正则通常被用来检索、替换那些符合某个模式(规则)的文本。
## author：yangdawei
### 基本的正则
js中声明一个正则有两种方式：
1. 字面量方式：/abc/.test()
2. Regexp构造函数：var reg = new Regexp('abc','g') 两个参数，第一个参数是正则的定义的规则内容，第二个参数是标识符，比如g表示全局匹配，从头到位的匹配。

### 使用
^ 匹配字符串开始的部分
[^ ] 中括号如果包含了^，表示的是不匹配[ ]里面的任意内容
```
1. /^a/.test('abcd')
结果：true
2. /[^abc]/.test('d')
结果：true
```
[ ] 表示匹配任意内容
```
[abc].text('a')
结果：true
```
$  匹配结尾
```
/\$$/.test('abcd12$')
结果：true
```
i 执行对大小写不敏感的匹配
g 执行全局匹配
.点 匹配除“\r\n”之外的任何单个字符
\* 匹配前面的子表达式任意次
\+ 匹配前面的子表达式一次或多次(大于等于1次） 
？匹配前面的子表达式零次或一次
`
当该字符紧跟在任何一个其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。
非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。
.点贪婪的是一次性多次匹配，?非贪婪的
`
\b 匹配一个单词边界，也就是指单词和空格间的位置（即正则表达式的“匹配”有两种概念，一种是匹配字符，一种是匹配位置，这里的\b就是匹配位置的）
```
1. /cd\b/.test('abcd')
结果：true 匹配字符串结尾的单词
2. /\bab/.test('abcd')
结果：true 匹配字符串开头的单词
```
\B 与\b相反，匹配不是开头或者结尾的内容
```
/\Bcd/.test('abcd')
结果：true
```
\w 匹配下划线_ 字母 数字的内容
```
/\w/.test('_abcd')
结果：true
```
\W 匹配非下划线 字母 数字的内容
```
/\W/.test('_abcd$')
结果：true
```
\s 匹配任何不可见字符，包括空格、制表符、等价于[ \f\n\r\t\v]
\S 匹配任何可见字符 等价于[^ \f\n\r\t\v ]
( ) 括号表示分组，可以把规则分成几组 
同时使用exec捕获方法捕获到的分组可以通过RegExp.\$1方式来获取，RegExp.\$1表示第一组引用以此类推但是只保持最近一次的引用
{n} 表示出现过的次数
```
/\d{3}/.test('abcd123')
结果：true
/\d{3}/.test('abcd12')
结果：false
```
\d 匹配数字
\D 匹配非数字
0-9 匹配0-9的数字
a-zA-Z 匹配小写的a到z和大写的A到Z
| 或匹配 
```
/(\d)|(\w)/.test('aaa')
结果：true
```
### 特殊用法
正则是定义一个匹配规则，通常情况下规则是不变的，有时希望匹配规则是动态的，那么就需要用到RegExp构造函数来帮帮了。
```
var gz = '[0-9a-z]'
var str='12345abcd'
var reg=new RegExp(`${gz}`,'g')
reg.test(str)
结果：true
```
关于 ^$
通常情况下一条正则是`/adcd/`，但是这种方式是只要字符串中有符合的就会被匹配，比较笼统，这是如果希望字符串完全符合规则那么就要用到`^$`符号来设置一个限定。
```
var reg=/^[0-9a-z\-.]+@[0-9a-z\-.]+$/
var str='as3652@163.com'
reg.test(str)
true
```
`
因为限制了字符串的规则，就要配合重复标识来使用，否则匹配内容只能是一次，而实际的字符串里的每个字符是多次出现的。
配合使用：+ * ? {n} {n,m} {n,}
`
```
var rPhone =/^(\d?)(\d+[a-z]{4}\d+|\d+)$/
undefined
rPhone.test('1347869098722');
true
rPhone.test('2were3333');
true
rPhone.test('13478690987');
true
 rPhone.test('23478690987');
true
```
正向前瞻和反向前瞻
(?=) 正向前瞻 可以理解为包含，包含?=后面定义的内容
(?!)  反向前瞻 不包含 ?=后面定义的内容

(?:) 非捕获分组 / ( ) 捕获分组
### RegExp方法
1. test 检索字符串中指定的值。返回 true 或 false
2. exec 检索字符串中指定的值。返回找到的值，并确定其位置
```
/(\d)|(\w)/.exec('1111')
```
### 支持正则表达式的 String 对象的方法
1. search	 检索与正则表达式相匹配的值
2. match	 找到一个或多个正则表达式的匹配
3. replace	 替换与正则表达式匹配的子串
4. split  	 把字符串分割为字符串数组

`
定义一条正则匹配规则的时候，要匹配某些规则，但不一定要捕获，有时是要全部捕获并且都匹配，正则是一条完整的匹配内容，参照着给定内容来写，而不是想当然的认为只要某处而不要另外一处。首先考虑的是全部条件都匹配上，在考虑结果是否要捕获引用哪一部分
`